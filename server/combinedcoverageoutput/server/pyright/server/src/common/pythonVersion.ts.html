<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for server\pyright\server\src\common\pythonVersion.ts</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../../../prettify.css">
    <link rel="stylesheet" href="../../../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">server\pyright\server\src\common\pythonVersion.ts</span></h1>
    <h2>
        Statements: <span class="metric">86.84% <small>(33 / 38)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">68.75% <small>(11 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(4 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">86.84% <small>(33 / 38)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">server/pyright/server/src/common/</a> &#187; pythonVersion.ts</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">14810</span>
<span class="cline-any cline-yes">14810</span>
<span class="cline-any cline-yes">14810</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * pythonLanguageVersion.ts
 * Copyright (c) Microsoft Corporation.
 * Licensed under the MIT license.
 * Author: Eric Traut
 *
 * Types and functions that relate to the Python language version
 * and features within them.
 */
&nbsp;
export enum PythonVersion {
    // The order of this enumeration is significant. We assume
    // that we can use comparison operators to check for older
    // or newer versions.
    V24 = 0x0204,
    V25 = 0x0205,
    V26 = 0x0206,
    V27 = 0x0207,
    V30 = 0x0300,
    V31 = 0x0301,
    V32 = 0x0302,
    V33 = 0x0303,
    V34 = 0x0304,
    V35 = 0x0305,
    V36 = 0x0306,
    V37 = 0x0307,
    V38 = 0x0308
}
&nbsp;
export const latestStablePythonVersion = PythonVersion.V38;
export const latestPythonVersion = PythonVersion.V38;
&nbsp;
export function versionToString(version: PythonVersion): string {
    const majorVersion = (version &gt;&gt; 8) &amp; 0xff;
    const minorVersion = version &amp; 0xff;
    return `${majorVersion}.${minorVersion}`;
}
&nbsp;
export function versionFromString(verString: string): PythonVersion | undefined {
    const split = verString.split('.');
    <span class="missing-if-branch" title="if path not taken" >I</span>if (split.length !== 2) {
<span class="cstat-no" title="statement not covered" >        return undefined;</span>
    }
&nbsp;
    const majorVersion = parseInt(split[0], 10);
    const minorVersion = parseInt(split[1], 10);
&nbsp;
    <span class="missing-if-branch" title="if path not taken" >I</span>if (isNaN(majorVersion) || isNaN(minorVersion)) {
<span class="cstat-no" title="statement not covered" >        return undefined;</span>
    }
&nbsp;
    <span class="missing-if-branch" title="if path not taken" >I</span>if (majorVersion &gt; 255 || minorVersion &gt; 255) {
<span class="cstat-no" title="statement not covered" >        return undefined;</span>
    }
&nbsp;
    const value = majorVersion * 256 + minorVersion;
    <span class="missing-if-branch" title="if path not taken" >I</span>if (PythonVersion[value] === undefined) {
<span class="cstat-no" title="statement not covered" >        return undefined;</span>
    }
&nbsp;
    // Pyright currently supports only 3.x.
    <span class="missing-if-branch" title="if path not taken" >I</span>if (!is3x(value)) {
<span class="cstat-no" title="statement not covered" >        return undefined;</span>
    }
&nbsp;
    return value;
}
&nbsp;
export function is3x(version: PythonVersion): boolean {
    return version &gt;&gt; 8 === 3;
}
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Mar 04 2020 16:25:10 GMT-0800 (Pacific Standard Time)</div>
</div>
<script src="../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../sorter.js"></script>
</body>
</html>
